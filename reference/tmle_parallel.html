<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Modify TMLE to support parallel computation for g and Q. — tmle_parallel • ck37r</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ck37r</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ck37/ck37r">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Modify TMLE to support parallel computation for g and Q.</h1>
    </div>

    
    <p>This is needed to use Savio or any multicore system effectively.</p>
<p>Another benefit is that the SuperLearner objects for the Q and g estimation
are saved. This allows one to examine the risk estimates for example.</p>
    

    <pre class="usage"><span class='fu'>tmle_parallel</span>(<span class='no'>Y</span>, <span class='no'>A</span>, <span class='no'>W</span>, <span class='no'>family</span>, <span class='no'>g.SL.library</span>, <span class='no'>Q.SL.library</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fu'>length</span>(<span class='no'>Y</span>),
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='no'>F</span>, <span class='kw'>V</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>sl_fn</span> <span class='kw'>=</span> <span class='kw pkg'>SuperLearner</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/SuperLearner/topics/SuperLearner'>SuperLearner</a></span>,
  <span class='kw'>cvsl_fn</span> <span class='kw'>=</span> <span class='kw pkg'>SuperLearner</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/SuperLearner/topics/CV.SuperLearner'>CV.SuperLearner</a></span>, <span class='kw'>cvQinit</span> <span class='kw'>=</span> <span class='no'>F</span>,
  <span class='kw'>conserve_memory</span> <span class='kw'>=</span> <span class='no'>T</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Y</th>
      <td><p>Outcome</p></td>
    </tr>
    <tr>
      <th>A</th>
      <td><p>Treatment indicator</p></td>
    </tr>
    <tr>
      <th>W</th>
      <td><p>Covariates</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>Gaussian or binomial</p></td>
    </tr>
    <tr>
      <th>g.SL.library</th>
      <td><p>SL library for estimating g</p></td>
    </tr>
    <tr>
      <th>Q.SL.library</th>
      <td><p>SL library for estimating Q</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>Optional list of subject-specific ids.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If TRUE outputs additional information during execution.</p></td>
    </tr>
    <tr>
      <th>V</th>
      <td><p>Number of cross-validation folds to use when estimating g and Q.
Defaults to 5 as tmle package does.</p></td>
    </tr>
    <tr>
      <th>sl_fn</th>
      <td><p>SuperLearner function to use for estimation of g and possibly Q.
By default this uses the normal SuperLearner function which is sequential.
Other options would be to pass in mcSuperLearner, snowSuperLearner, or
CV.SuperLearner. For functions that require additional arguments (e.g. the
cluster argument of for snowSuperLearner) one should create a new function
that overloads the call and sets that argument. This is what
setup_parallel_tmle() does.</p></td>
    </tr>
    <tr>
      <th>cvsl_fn</th>
      <td><p>CV.SuperLearner equivalent, can be used for estimating Q.</p></td>
    </tr>
    <tr>
      <th>cvQinit</th>
      <td><p>If T, estimate Q using cvsl_fn, otherwise use sl_fn.</p></td>
    </tr>
    <tr>
      <th>conserve_memory</th>
      <td><p>If T, remove the fitLibrary elements to save memory
after we have done the relevant prediction.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Remaining arguments are passed through to tmle::tmle().</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>setup_parallel_tmle</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Chris Kennedy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
